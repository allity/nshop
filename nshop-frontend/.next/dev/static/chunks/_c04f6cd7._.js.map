{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/inhwan/Documents/nshop/nshop-frontend/app/admin/products/%5Bpid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL!;\n\ntype Product = {\n    pid: number;\n    name: string;\n    description: string;\n    price: number;\n    stock: number;\n    thumbnailUrl?: string | null;\n    createdAt: string;\n};\n\nexport default function AdminProductDetailPage() {\n    const params = useParams();\n    const router = useRouter();\n    const pid = Number(params?.pid);\n\n    const [product, setProduct] = useState<Product | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n\n    useEffect(() => {\n        if (!pid || Number.isNaN(pid)) {\n            setError('잘못된 상품 번호입니다.');\n            setLoading(false);\n            return;\n        }\n\n        const fetchProduct = async () => {\n            try {\n                const res = await fetch(`${API_BASE_URL}/products/${pid}`);\n                if (res.status === 404) {\n                    setError('해당 상품을 찾을 수 없습니다.');\n                    setProduct(null);\n                    return;\n                }\n                if (!res.ok) throw new Error('상품 조회에 실패했습니다.');\n\n                const data: Product = await res.json();\n                setProduct(data);\n            } catch (e: any) {\n                setError(e.message ?? '상품 조회 중 오류가 발생했습니다.');\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchProduct();\n    }, [pid]);\n\n    const formatDateTime = (iso: string) => {\n        if (!iso) return '';\n        const d = new Date(iso);\n        if (Number.isNaN(d.getTime())) return iso;\n        return d.toLocaleString('ko-KR', {\n            year: 'numeric',\n            month: '2-digit',\n            day: '2-digit',\n            hour: '2-digit',\n            minute: '2-digit',\n        });\n    };\n\n    const handleDelete = async () => {\n        if (!product) return;\n\n        const ok = window.confirm(`${product.name} 상품을 정말 삭제할까요?`);\n        if (!ok) return;\n\n        try {\n            const res = await fetch(`${API_BASE_URL}/products/${product.pid}`, {\n                method: 'DELETE',\n            });\n\n            if (!res.ok) {\n                const text = await res.text();\n                console.error('Delete failed:', text);\n                alert('상품 삭제에 실패했습니다.');\n                return;\n            }\n\n            alert('상품이 삭제되었습니다.');\n            router.push('/admin/products');\n        } catch (e) {\n            console.error(e);\n            alert('상품 삭제 중 오류가 발생했습니다.');\n        }\n    };\n\n    if (loading) {\n        return (\n            <div className=\"py-10 text-center text-sm text-slate-500\">\n                상품 정보를 불러오는 중입니다...\n            </div>\n        );\n    }\n\n    if (!product) {\n        return (\n            <div className=\"space-y-4 p-6\">\n                <div className=\"flex items-center justify-between\">\n                    <h2 className=\"text-lg font-semibold\">상품 상세</h2>\n                    <button\n                        type=\"button\"\n                        onClick={() => router.push('/admin/products')}\n                        className=\"rounded-full border border-slate-300 px-4 py-2 text-xs text-slate-700 hover:bg-slate-50\"\n                    >\n                        목록으로\n                    </button>\n                </div>\n                <p className=\"text-sm text-rose-600\">\n                    {error ?? '상품 정보를 찾을 수 없습니다.'}\n                </p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"space-y-6\">\n            {/* 상단 타이틀 + 액션 버튼 */}\n            <div className=\"flex items-center justify-between\">\n                <div>\n                    <h2 className=\"text-lg font-semibold\">상품 상세</h2>\n                    <p className=\"text-xs text-slate-500\">\n                        상품 정보를 확인합니다.\n                    </p>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                    <button\n                        type=\"button\"\n                        onClick={() => router.push('/admin/products')}\n                        className=\"rounded-full border border-slate-300 px-4 py-2 text-xs text-slate-700 hover:bg-slate-50\"\n                    >\n                        목록으로\n                    </button>\n                    <button\n                        type=\"button\"\n                        onClick={() => router.push(`/admin/products/${product.pid}/edit`)}\n                        className=\"rounded-full bg-indigo-600 px-4 py-2 text-xs font-medium text-white hover:bg-indigo-700\"\n                    >\n                        수정하기\n                    </button>\n                    <button\n                        type=\"button\"\n                        onClick={handleDelete}\n                        className=\"rounded-full bg-rose-600 px-4 py-2 text-xs font-medium text-white hover:bg-rose-700\"\n                    >\n                        삭제\n                    </button>\n                </div>\n            </div>\n\n            {/* 상세 카드 */}\n            <section className=\"bg-white rounded-2xl shadow-sm border border-slate-100 p-6 flex flex-col md:flex-row gap-6\">\n                {/* 이미지 영역 */}\n                <div className=\"w-full md:w-1/3 flex flex-col items-center gap-3\">\n                    <div className=\"w-40 h-40 md:w-48 md:h-48 rounded-xl border border-slate-200 overflow-hidden bg-slate-50 flex items-center justify-center\">\n                        {product.thumbnailUrl ? (\n                            // eslint-disable-next-line @next/next/no-img-element\n                            <img\n                                src={product.thumbnailUrl}\n                                alt={product.name}\n                                className=\"w-full h-full object-cover\"\n                            />\n                        ) : (\n                            <span className=\"text-xs text-slate-400\">\n                                이미지 없음\n                            </span>\n                        )}\n                    </div>\n                    <div className=\"text-[11px] text-slate-400\">\n                        상품번호: <span className=\"font-mono\">{product.pid}</span>\n                    </div>\n                </div>\n\n                {/* 정보 영역 */}\n                <div className=\"flex-1 space-y-4\">\n                    {/* 상단: 이름 / 가격 / 재고 */}\n                    <div className=\"space-y-2 border-b border-slate-100 pb-4\">\n                        <h3 className=\"text-base font-semibold text-slate-900\">\n                            {product.name}\n                        </h3>\n                        <div className=\"flex flex-wrap items-center gap-4 text-sm\">\n                            <div className=\"flex items-baseline gap-1\">\n                                <span className=\"text-slate-500 text-xs\">가격</span>\n                                <span className=\"font-semibold text-slate-900\">\n                                    {product.price.toLocaleString()}원\n                                </span>\n                            </div>\n                            <div className=\"flex items-baseline gap-1\">\n                                <span className=\"text-slate-500 text-xs\">재고</span>\n                                <span\n                                    className={\n                                        product.stock <= 5\n                                            ? 'text-rose-600 font-semibold'\n                                            : 'text-slate-900 font-semibold'\n                                    }\n                                >\n                                    {product.stock}개\n                                </span>\n                            </div>\n                            <div className=\"flex items-baseline gap-1 text-xs text-slate-500\">\n                                <span>등록일</span>\n                                <span>{formatDateTime(product.createdAt)}</span>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* 상세 필드들 */}\n                    <div className=\"space-y-3 text-sm\">\n                        <div>\n                            <div className=\"text-[11px] font-medium text-slate-500 mb-1\">\n                                썸네일 URL\n                            </div>\n                            <div className=\"text-xs text-slate-800 break-all\">\n                                {product.thumbnailUrl || (\n                                    <span className=\"text-slate-400\">설정되지 않음</span>\n                                )}\n                            </div>\n                        </div>\n\n                        <div>\n                            <div className=\"text-[11px] font-medium text-slate-500 mb-1\">\n                                상품 설명\n                            </div>\n                            <div className=\"text-sm text-slate-800 whitespace-pre-line leading-relaxed\">\n                                {product.description}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        </div>\n    );\n}"],"names":[],"mappings":";;;;AAKqB;;AAHrB;AACA;;;AAHA;;;AAKA,MAAM;AAYS,SAAS;;IACpB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,MAAM,OAAO,QAAQ;IAE3B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAiB;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAElD,IAAA,0KAAS;4CAAC;YACN,IAAI,CAAC,OAAO,OAAO,KAAK,CAAC,MAAM;gBAC3B,SAAS;gBACT,WAAW;gBACX;YACJ;YAEA,MAAM;iEAAe;oBACjB,IAAI;wBACA,MAAM,MAAM,MAAM,MAAM,GAAG,aAAa,UAAU,EAAE,KAAK;wBACzD,IAAI,IAAI,MAAM,KAAK,KAAK;4BACpB,SAAS;4BACT,WAAW;4BACX;wBACJ;wBACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;wBAE7B,MAAM,OAAgB,MAAM,IAAI,IAAI;wBACpC,WAAW;oBACf,EAAE,OAAO,GAAQ;wBACb,SAAS,EAAE,OAAO,IAAI;oBAC1B,SAAU;wBACN,WAAW;oBACf;gBACJ;;YAEA;QACJ;2CAAG;QAAC;KAAI;IAER,MAAM,iBAAiB,CAAC;QACpB,IAAI,CAAC,KAAK,OAAO;QACjB,MAAM,IAAI,IAAI,KAAK;QACnB,IAAI,OAAO,KAAK,CAAC,EAAE,OAAO,KAAK,OAAO;QACtC,OAAO,EAAE,cAAc,CAAC,SAAS;YAC7B,MAAM;YACN,OAAO;YACP,KAAK;YACL,MAAM;YACN,QAAQ;QACZ;IACJ;IAEA,MAAM,eAAe;QACjB,IAAI,CAAC,SAAS;QAEd,MAAM,KAAK,OAAO,OAAO,CAAC,GAAG,QAAQ,IAAI,CAAC,cAAc,CAAC;QACzD,IAAI,CAAC,IAAI;QAET,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,GAAG,aAAa,UAAU,EAAE,QAAQ,GAAG,EAAE,EAAE;gBAC/D,QAAQ;YACZ;YAEA,IAAI,CAAC,IAAI,EAAE,EAAE;gBACT,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,QAAQ,KAAK,CAAC,kBAAkB;gBAChC,MAAM;gBACN;YACJ;YAEA,MAAM;YACN,OAAO,IAAI,CAAC;QAChB,EAAE,OAAO,GAAG;YACR,QAAQ,KAAK,CAAC;YACd,MAAM;QACV;IACJ;IAEA,IAAI,SAAS;QACT,qBACI,6LAAC;YAAI,WAAU;sBAA2C;;;;;;IAIlE;IAEA,IAAI,CAAC,SAAS;QACV,qBACI,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAG,WAAU;sCAAwB;;;;;;sCACtC,6LAAC;4BACG,MAAK;4BACL,SAAS,IAAM,OAAO,IAAI,CAAC;4BAC3B,WAAU;sCACb;;;;;;;;;;;;8BAIL,6LAAC;oBAAE,WAAU;8BACR,SAAS;;;;;;;;;;;;IAI1B;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;;0CACG,6LAAC;gCAAG,WAAU;0CAAwB;;;;;;0CACtC,6LAAC;gCAAE,WAAU;0CAAyB;;;;;;;;;;;;kCAI1C,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCACG,MAAK;gCACL,SAAS,IAAM,OAAO,IAAI,CAAC;gCAC3B,WAAU;0CACb;;;;;;0CAGD,6LAAC;gCACG,MAAK;gCACL,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,gBAAgB,EAAE,QAAQ,GAAG,CAAC,KAAK,CAAC;gCAChE,WAAU;0CACb;;;;;;0CAGD,6LAAC;gCACG,MAAK;gCACL,SAAS;gCACT,WAAU;0CACb;;;;;;;;;;;;;;;;;;0BAOT,6LAAC;gBAAQ,WAAU;;kCAEf,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;0CACV,QAAQ,YAAY,GACjB,qDAAqD;8CACrD,6LAAC;oCACG,KAAK,QAAQ,YAAY;oCACzB,KAAK,QAAQ,IAAI;oCACjB,WAAU;;;;;yDAGd,6LAAC;oCAAK,WAAU;8CAAyB;;;;;;;;;;;0CAKjD,6LAAC;gCAAI,WAAU;;oCAA6B;kDAClC,6LAAC;wCAAK,WAAU;kDAAa,QAAQ,GAAG;;;;;;;;;;;;;;;;;;kCAKtD,6LAAC;wBAAI,WAAU;;0CAEX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAG,WAAU;kDACT,QAAQ,IAAI;;;;;;kDAEjB,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAI,WAAU;;kEACX,6LAAC;wDAAK,WAAU;kEAAyB;;;;;;kEACzC,6LAAC;wDAAK,WAAU;;4DACX,QAAQ,KAAK,CAAC,cAAc;4DAAG;;;;;;;;;;;;;0DAGxC,6LAAC;gDAAI,WAAU;;kEACX,6LAAC;wDAAK,WAAU;kEAAyB;;;;;;kEACzC,6LAAC;wDACG,WACI,QAAQ,KAAK,IAAI,IACX,gCACA;;4DAGT,QAAQ,KAAK;4DAAC;;;;;;;;;;;;;0DAGvB,6LAAC;gDAAI,WAAU;;kEACX,6LAAC;kEAAK;;;;;;kEACN,6LAAC;kEAAM,eAAe,QAAQ,SAAS;;;;;;;;;;;;;;;;;;;;;;;;0CAMnD,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;;0DACG,6LAAC;gDAAI,WAAU;0DAA8C;;;;;;0DAG7D,6LAAC;gDAAI,WAAU;0DACV,QAAQ,YAAY,kBACjB,6LAAC;oDAAK,WAAU;8DAAiB;;;;;;;;;;;;;;;;;kDAK7C,6LAAC;;0DACG,6LAAC;gDAAI,WAAU;0DAA8C;;;;;;0DAG7D,6LAAC;gDAAI,WAAU;0DACV,QAAQ,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQpD;GA9NwB;;QACL,kJAAS;QACT,kJAAS;;;KAFJ"}},
    {"offset": {"line": 481, "column": 0}, "map": {"version":3,"sources":["file:///Users/inhwan/Documents/nshop/nshop-frontend/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}}]
}